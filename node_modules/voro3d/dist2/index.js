var Yn=(()=>{var we=import.meta.url;return async function(h={}){var N,a=h,U,S,w=new Promise((e,r)=>{U=e,S=r});["_memory","___indirect_function_table","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(w,e)||Object.defineProperty(w,e,{get:()=>C("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>C("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var m=typeof window=="object",R=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D=!m&&!A&&!R;if(a.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");if(A){let{createRequire:e}=await import("module");var _=e(import.meta.url)}var ae=Object.assign({},a),J=[],Qe="./this.program",De=(e,r)=>{throw r},k="";function zr(e){return a.locateFile?a.locateFile(e,k):k+e}var Le,Te;if(A){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var er=process.versions.node,oe=er.split(".").slice(0,3);if(oe=oe[0]*1e4+oe[1]*100+oe[2].split("-")[0]*1,oe<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+er+")");var rr=_("fs"),tr=_("path");k=_("url").fileURLToPath(new URL("./",import.meta.url)),Te=e=>{e=ve(e)?new URL(e):tr.normalize(e);var r=rr.readFileSync(e);return f(r.buffer),r},Le=(e,r=!0)=>(e=ve(e)?new URL(e):tr.normalize(e),new Promise((t,n)=>{rr.readFile(e,r?void 0:"utf8",(i,s)=>{i?n(i):t(r?s.buffer:s)})})),!a.thisProgram&&process.argv.length>1&&(Qe=process.argv[1].replace(/\\/g,"/")),J=process.argv.slice(2),De=(e,r)=>{throw process.exitCode=e,r}}else if(D){if(typeof process=="object"&&typeof _=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(m||R){if(R?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),we&&(k=we),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");R&&(Te=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Le=e=>ve(e)?new Promise((r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&t(n.response),r(n.status)},n.onerror=r,n.send(null)}):fetch(e,{credentials:"same-origin"}).then(r=>r.ok?r.arrayBuffer():Promise.reject(new Error(r.status+" : "+r.url)))}else throw new Error("environment detection error");var Ee=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,ae),ae=null,Mn(),a.arguments&&(J=a.arguments),H("arguments","arguments_"),a.thisProgram&&(Qe=a.thisProgram),H("thisProgram","thisProgram"),a.quit&&(De=a.quit),H("quit","quit_"),f(typeof a.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),f(typeof a.read>"u","Module.read option was removed"),f(typeof a.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),f(typeof a.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),f(typeof a.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),f(typeof a.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),H("asm","wasmExports"),H("readAsync","readAsync"),H("readBinary","readBinary"),H("setWindowTitle","setWindowTitle"),f(!D,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var se;a.wasmBinary&&(se=a.wasmBinary),H("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&b("no native wasm support detected");var le,ue=!1,xe;function f(e,r){e||C("Assertion failed"+(r?": "+r:""))}var q,E,ce,Pe,de,g,nr,ir;function ar(){var e=le.buffer;a.HEAP8=q=new Int8Array(e),a.HEAP16=ce=new Int16Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=Pe=new Uint16Array(e),a.HEAP32=de=new Int32Array(e),a.HEAPU32=g=new Uint32Array(e),a.HEAPF32=nr=new Float32Array(e),a.HEAPF64=ir=new Float64Array(e)}f(!a.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),f(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),f(!a.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),f(!a.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Br(){var e=Ke();f((e&3)==0),e==0&&(e+=4),g[e>>2]=34821223,g[e+4>>2]=2310721022,g[0]=1668509029}function We(){if(!ue){var e=Ke();e==0&&(e+=4);var r=g[e>>2],t=g[e+4>>2];(r!=34821223||t!=2310721022)&&C(`Stack overflow! Stack cookie has been overwritten at ${re(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${re(t)} ${re(r)}`),g[0]!=1668509029&&C("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var e=new Int16Array(1),r=new Int8Array(e.buffer);if(e[0]=25459,r[0]!==115||r[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var or=[],sr=[],lr=[],Ne=!1;function Gr(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)qr(a.preRun.shift());je(or)}function Yr(){f(!Ne),Ne=!0,We(),je(sr)}function Jr(){if(We(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Zr(a.postRun.shift());je(lr)}function qr(e){or.unshift(e)}function Kr(e){sr.unshift(e)}function Zr(e){lr.unshift(e)}f(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var K=0,Z=null,fe=null,pe={};function Xr(e){K++,a.monitorRunDependencies?.(K),e?(f(!pe[e]),pe[e]=1,Z===null&&typeof setInterval<"u"&&(Z=setInterval(()=>{if(ue){clearInterval(Z),Z=null;return}var r=!1;for(var t in pe)r||(r=!0,b("still waiting on run dependencies:")),b(`dependency: ${t}`);r&&b("(end of list)")},1e4))):b("warning: run dependency added without ID")}function Qr(e){if(K--,a.monitorRunDependencies?.(K),e?(f(pe[e]),delete pe[e]):b("warning: run dependency removed without ID"),K==0&&(Z!==null&&(clearInterval(Z),Z=null),fe)){var r=fe;fe=null,r()}}function C(e){a.onAbort?.(e),e="Aborted("+e+")",b(e),ue=!0,xe=1;var r=new WebAssembly.RuntimeError(e);throw S(r),r}var M={error(){C("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){M.error()},createDataFile(){M.error()},createPreloadedFile(){M.error()},createLazyFile(){M.error()},open(){M.error()},mkdev(){M.error()},registerDevice(){M.error()},analyzePath(){M.error()},ErrnoError(){M.error()}};a.FS_createDataFile=M.createDataFile,a.FS_createPreloadedFile=M.createPreloadedFile;var et="data:application/octet-stream;base64,",ur=e=>e.startsWith(et),ve=e=>e.startsWith("file://");function j(e,r){return(...t)=>{f(Ne,`native function \`${e}\` called before runtime initialization`);var n=$[e];return f(n,`exported native function \`${e}\` not found`),f(t.length<=r,`native function \`${e}\` called with ${t.length} args but expects ${r}`),n(...t)}}function rt(){if(a.locateFile){var e="voro_raw.wasm";return ur(e)?e:zr(e)}return new URL("voro_raw.wasm",import.meta.url).href}var ee;function cr(e){if(e==ee&&se)return new Uint8Array(se);if(Te)return Te(e);throw"both async and sync fetching of the wasm failed"}function tt(e){return se?Promise.resolve().then(()=>cr(e)):Le(e).then(r=>new Uint8Array(r),()=>cr(e))}function dr(e,r,t){return tt(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{b(`failed to asynchronously prepare wasm: ${n}`),ve(ee)&&b(`warning: Loading from a file URI (${ee}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),C(n)})}function nt(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!ur(r)&&!ve(r)&&!A&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{var s=WebAssembly.instantiateStreaming(i,t);return s.then(n,function(l){return b(`wasm streaming compile failed: ${l}`),b("falling back to ArrayBuffer instantiation"),dr(r,t,n)})}):dr(r,t,n)}function it(){return{env:Dr,wasi_snapshot_preview1:Dr}}function at(){var e=it();function r(i,s){return $=i.exports,le=$.memory,f(le,"memory not found in wasm exports"),ar(),Be=$.__indirect_function_table,f(Be,"table not found in wasm exports"),Kr($.__wasm_call_ctors),Qr("wasm-instantiate"),$}Xr("wasm-instantiate");var t=a;function n(i){f(a===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,r(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,r)}catch(i){b(`Module.instantiateWasm callback failed with error: ${i}`),S(i)}return ee||(ee=rt()),nt(se,ee,e,n).catch(S),{}}function H(e,r,t=!0){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){let n=t?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";C(`\`Module.${e}\` has been replaced by \`${r}\``+n)}})}function ot(e){Object.getOwnPropertyDescriptor(a,e)&&C(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function fr(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function pr(e,r){typeof globalThis<"u"&&Object.defineProperty(globalThis,e,{configurable:!0,get(){L(`\`${e}\` is not longer defined by emscripten. ${r}`)}})}pr("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),pr("asm","Please use wasmExports instead");function st(e){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){var r=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,t=e;t.startsWith("_")||(t="$"+e),r+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${t}')`,fr(e)&&(r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),L(r)}}),vr(e)}function vr(e){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){var r=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;fr(e)&&(r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),C(r)}})}function lt(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var je=e=>{for(;e.length>0;)e.shift()(a)},ut=a.noExitRuntime||!0,re=e=>(f(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),L=e=>{L.shown||={},L.shown[e]||(L.shown[e]=1,A&&(e="warning: "+e),b(e))},hr=typeof TextDecoder<"u"?new TextDecoder:void 0,gr=(e,r,t)=>{for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.buffer&&hr)return hr.decode(e.subarray(r,i));for(var s="";r<i;){var l=e[r++];if(!(l&128)){s+=String.fromCharCode(l);continue}var o=e[r++]&63;if((l&224)==192){s+=String.fromCharCode((l&31)<<6|o);continue}var u=e[r++]&63;if((l&240)==224?l=(l&15)<<12|o<<6|u:((l&248)!=240&&L("Invalid UTF-8 leading byte "+re(l)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),l=(l&7)<<18|o<<12|u<<6|e[r++]&63),l<65536)s+=String.fromCharCode(l);else{var c=l-65536;s+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return s},Ce=(e,r)=>(f(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?gr(E,e,r):""),ct=(e,r,t,n)=>{C(`Assertion failed: ${Ce(e)}, at: `+[r?Ce(r):"unknown filename",t,n?Ce(n):"unknown function"])};class dt{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){g[this.ptr+4>>2]=r}get_type(){return g[this.ptr+4>>2]}set_destructor(r){g[this.ptr+8>>2]=r}get_destructor(){return g[this.ptr+8>>2]}set_caught(r){r=r?1:0,q[this.ptr+12]=r}get_caught(){return q[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,q[this.ptr+13]=r}get_rethrown(){return q[this.ptr+13]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){g[this.ptr+16>>2]=r}get_adjusted_ptr(){return g[this.ptr+16>>2]}get_exception_ptr(){var r=jn(this.get_type());if(r)return g[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var ft=0,pt=0,vt=(e,r,t)=>{var n=new dt(e);n.init(r,t),ft=e,pt++,f(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},ht=()=>{C("native code called abort()")},gt=(e,r,t,n,i)=>{},mt=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);mr=e},mr,I=e=>{for(var r="",t=e;E[t];)r+=mr[E[t++]];return r},te={},X={},$e={},ne,v=e=>{throw new ne(e)},yr,Fe=e=>{throw new yr(e)},Q=(e,r,t)=>{e.forEach(function(o){$e[o]=r});function n(o){var u=t(o);u.length!==e.length&&Fe("Mismatched type converter count");for(var c=0;c<e.length;++c)x(e[c],u[c])}var i=new Array(r.length),s=[],l=0;r.forEach((o,u)=>{X.hasOwnProperty(o)?i[u]=X[o]:(s.push(o),te.hasOwnProperty(o)||(te[o]=[]),te[o].push(()=>{i[u]=X[o],++l,l===s.length&&n(i)}))}),s.length===0&&n(i)};function yt(e,r,t={}){var n=r.name;if(e||v(`type "${n}" must have a positive integer typeid pointer`),X.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;v(`Cannot register type '${n}' twice`)}if(X[e]=r,delete $e[e],te.hasOwnProperty(e)){var i=te[e];delete te[e],i.forEach(s=>s())}}function x(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return yt(e,r,t)}var V=8,_t=(e,r,t,n)=>{r=I(r),x(e,{name:r,fromWireType:function(i){return!!i},toWireType:function(i,s){return s?t:n},argPackAdvance:V,readValueFromPointer:function(i){return this.fromWireType(E[i])},destructorFunction:null})},bt=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),He=e=>{function r(t){return t.$$.ptrType.registeredClass.name}v(r(e)+" instance already deleted")},Ve=!1,_r=e=>{},wt=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},br=e=>{e.count.value-=1;var r=e.count.value===0;r&&wt(e)},wr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=wr(e,r,t.baseClass);return n===null?null:t.downcast(n)},Tr={},Tt=()=>Object.keys(me).length,Et=()=>{var e=[];for(var r in me)me.hasOwnProperty(r)&&e.push(me[r]);return e},he=[],ze=()=>{for(;he.length;){var e=he.pop();e.$$.deleteScheduled=!1,e.delete()}},ge,Pt=e=>{ge=e,he.length&&ge&&ge(ze)},Ct=()=>{a.getInheritedInstanceCount=Tt,a.getLiveInheritedInstances=Et,a.flushPendingDeletes=ze,a.setDelayFunction=Pt},me={},$t=(e,r)=>{for(r===void 0&&v("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},Ft=(e,r)=>(r=$t(e,r),me[r]),Se=(e,r)=>{(!r.ptrType||!r.ptr)&&Fe("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Fe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},ye(Object.create(e,{$$:{value:r,writable:!0}}))};function Er(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Ft(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Se(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Se(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var s=this.registeredClass.getActualType(r),l=Tr[s];if(!l)return i.call(this);var o;this.isConst?o=l.constPointerType:o=l.pointerType;var u=wr(r,this.registeredClass,o.registeredClass);return u===null?i.call(this):this.isSmartPointer?Se(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:e}):Se(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}var ye=e=>typeof FinalizationRegistry>"u"?(ye=r=>r,e):(Ve=new FinalizationRegistry(r=>{console.warn(r.leakWarning.stack.replace(/^Error: /,"")),br(r.$$)}),ye=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var i={$$:t},s=t.ptrType.registeredClass;i.leakWarning=new Error(`Embind found a leaked C++ instance ${s.name} <${re(t.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(i.leakWarning,Er),Ve.register(r,i,r)}return r},_r=r=>Ve.unregister(r),ye(e)),St=()=>{Object.assign(Ae.prototype,{isAliasOf(e){if(!(this instanceof Ae)||!(e instanceof Ae))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i},clone(){if(this.$$.ptr||He(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=ye(Object.create(Object.getPrototypeOf(this),{$$:{value:bt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&v("Object already scheduled for deletion"),_r(this),br(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&v("Object already scheduled for deletion"),he.push(this),he.length===1&&ge&&ge(ze),this.$$.deleteScheduled=!0,this}})};function Ae(){}var Ie=(e,r)=>Object.defineProperty(r,"name",{value:e}),Pr=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...i){return e[r].overloadTable.hasOwnProperty(i.length)||v(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[i.length].apply(this,i)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},At=(e,r,t)=>{a.hasOwnProperty(e)?((t===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[t]!==void 0)&&v(`Cannot register public name '${e}' twice`),Pr(a,e,e),a.hasOwnProperty(t)&&v(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),a[e].overloadTable[t]=r):(a[e]=r,t!==void 0&&(a[e].numArguments=t))},It=48,Rt=57,kt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=It&&r<=Rt?`_${e}`:e};function Mt(e,r,t,n,i,s,l,o){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=s,this.upcast=l,this.downcast=o,this.pureVirtualFunctions=[]}var Re=(e,r,t)=>{for(;r!==t;)r.upcast||v(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function Ot(e,r){if(r===null)return this.isReference&&v(`null is not a valid ${this.name}`),0;r.$$||v(`Cannot pass "${ie(r)}" as a ${this.name}`),r.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Re(r.$$.ptr,t,this.registeredClass);return n}function Ut(e,r){var t;if(r===null)return this.isReference&&v(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&v(`Cannot pass "${ie(r)}" as a ${this.name}`),r.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&v(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Re(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&v("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:v(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,Oe.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:v("Unsupporting sharing policy")}return t}function Dt(e,r){if(r===null)return this.isReference&&v(`null is not a valid ${this.name}`),0;r.$$||v(`Cannot pass "${ie(r)}" as a ${this.name}`),r.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&v(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Re(r.$$.ptr,t,this.registeredClass);return n}function ke(e){return this.fromWireType(g[e>>2])}var Lt=()=>{Object.assign(Me.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:V,readValueFromPointer:ke,fromWireType:Er})};function Me(e,r,t,n,i,s,l,o,u,c,d){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=s,this.sharingPolicy=l,this.rawGetPointee=o,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=d,!i&&r.baseClass===void 0?n?(this.toWireType=Ot,this.destructorFunction=null):(this.toWireType=Dt,this.destructorFunction=null):this.toWireType=Ut}var xt=(e,r,t)=>{a.hasOwnProperty(e)||Fe("Replacing nonexistent public symbol"),a[e].overloadTable!==void 0&&t!==void 0?a[e].overloadTable[t]=r:(a[e]=r,a[e].argCount=t)},Wt=(e,r,t)=>{e=e.replace(/p/g,"i"),f("dynCall_"+e in a,`bad function pointer type - dynCall function not found for sig '${e}'`),t?.length?f(t.length===e.substring(1).replace(/j/g,"--").length):f(e.length==1);var n=a["dynCall_"+e];return n(r,...t)},Be,Ge=e=>Be.get(e),Nt=(e,r,t=[])=>{if(e.includes("j"))return Wt(e,r,t);f(Ge(r),`missing table entry in dynCall: ${r}`);var n=Ge(r)(...t);return n},jt=(e,r)=>(f(e.includes("j")||e.includes("p"),"getDynCaller should only be called with i64 sigs"),(...t)=>Nt(e,r,t)),z=(e,r)=>{e=I(e);function t(){return e.includes("j")?jt(e,r):Ge(r)}var n=t();return typeof n!="function"&&v(`unknown function pointer with signature ${e}: ${r}`),n},Ht=(e,r)=>{var t=Ie(r,function(n){this.name=r,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Cr,$r=e=>{var r=On(e),t=I(r);return B(r),t},_e=(e,r)=>{var t=[],n={};function i(s){if(!n[s]&&!X[s]){if($e[s]){$e[s].forEach(i);return}t.push(s),n[s]=!0}}throw r.forEach(i),new Cr(`${e}: `+t.map($r).join([", "]))},Vt=(e,r,t,n,i,s,l,o,u,c,d,p,y)=>{d=I(d),s=z(i,s),o&&=z(l,o),c&&=z(u,c),y=z(p,y);var T=kt(d);At(T,function(){_e(`Cannot construct ${d} due to unbound types`,[n])}),Q([e,r,t],n?[n]:[],P=>{P=P[0];var G,W;n?(G=P.registeredClass,W=G.instancePrototype):W=Ae.prototype;var Y=Ie(d,function(...Ze){if(Object.getPrototypeOf(this)!==be)throw new ne("Use 'new' to construct "+d);if(F.constructor_body===void 0)throw new ne(d+" has no accessible constructor");var Hr=F.constructor_body[Ze.length];if(Hr===void 0)throw new ne(`Tried to invoke ctor of ${d} with invalid number of parameters (${Ze.length}) - expected (${Object.keys(F.constructor_body).toString()}) parameters instead!`);return Hr.apply(this,Ze)}),be=Object.create(W,{constructor:{value:Y}});Y.prototype=be;var F=new Mt(d,Y,be,y,G,s,o,c);F.baseClass&&(F.baseClass.__derivedClasses??=[],F.baseClass.__derivedClasses.push(F));var Gn=new Me(d,F,!0,!1,!1),Nr=new Me(d+"*",F,!1,!1,!1),jr=new Me(d+" const*",F,!1,!0,!1);return Tr[e]={pointerType:Nr,constPointerType:jr},xt(T,Y),[Gn,Nr,jr]})},Fr=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(g[r+n*4>>2]);return t},Sr=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Ar(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function zt(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=Ie(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function Bt(e,r,t,n){for(var i=Ar(e),s=e.length,l="",o="",u=0;u<s-2;++u)l+=(u!==0?", ":"")+"arg"+u,o+=(u!==0?", ":"")+"arg"+u+"Wired";var c=`
        return function (${l}) {
        if (arguments.length !== ${s-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${s-2}');
        }`;i&&(c+=`var destructors = [];
`);var d=i?"destructors":"null",p=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(c+="var thisWired = classParam['toWireType']("+d+`, this);
`);for(var u=0;u<s-2;++u)c+="var arg"+u+"Wired = argType"+u+"['toWireType']("+d+", arg"+u+`);
`,p.push("argType"+u);if(r&&(o="thisWired"+(o.length>0?", ":"")+o),c+=(t||n?"var rv = ":"")+"invoker(fn"+(o.length>0?", ":"")+o+`);
`,i)c+=`runDestructors(destructors);
`;else for(var u=r?1:2;u<e.length;++u){var y=u===1?"thisWired":"arg"+(u-2)+"Wired";e[u].destructorFunction!==null&&(c+=`${y}_dtor(${y});
`,p.push(`${y}_dtor`))}return t&&(c+=`var ret = retType['fromWireType'](rv);
return ret;
`),c+=`}
`,c=`if (arguments.length !== ${p.length}){ throw new Error(humanName + "Expected ${p.length} closure arguments " + arguments.length + " given."); }
${c}`,[p,c]}function Ir(e,r,t,n,i,s){var l=r.length;l<2&&v("argTypes array size mismatch! Must at least get return value and 'this' types!"),f(!s,"Async bindings are only supported with JSPI.");for(var o=r[1]!==null&&t!==null,u=Ar(r),c=r[0].name!=="void",d=[e,v,n,i,Sr,r[0],r[1]],p=0;p<l-2;++p)d.push(r[p+2]);if(!u)for(var p=o?1:2;p<r.length;++p)r[p].destructorFunction!==null&&d.push(r[p].destructorFunction);let[y,T]=Bt(r,o,c,s);y.push(T);var P=zt(Function,y)(...d);return Ie(e,P)}var Gt=(e,r,t,n,i,s)=>{f(r>0);var l=Fr(r,t);i=z(n,i),Q([],[e],o=>{o=o[0];var u=`constructor ${o.name}`;if(o.registeredClass.constructor_body===void 0&&(o.registeredClass.constructor_body=[]),o.registeredClass.constructor_body[r-1]!==void 0)throw new ne(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${o.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return o.registeredClass.constructor_body[r-1]=()=>{_e(`Cannot construct ${o.name} due to unbound types`,l)},Q([],l,c=>(c.splice(1,0,null),o.registeredClass.constructor_body[r-1]=Ir(u,c,null,i,s),[])),[]})},Yt=e=>{e=e.trim();let r=e.indexOf("(");return r!==-1?(f(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,r)):e},Jt=(e,r,t,n,i,s,l,o,u)=>{var c=Fr(t,n);r=I(r),r=Yt(r),s=z(i,s),Q([],[e],d=>{d=d[0];var p=`${d.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),o&&d.registeredClass.pureVirtualFunctions.push(r);function y(){_e(`Cannot call ${p} due to unbound types`,c)}var T=d.registeredClass.instancePrototype,P=T[r];return P===void 0||P.overloadTable===void 0&&P.className!==d.name&&P.argCount===t-2?(y.argCount=t-2,y.className=d.name,T[r]=y):(Pr(T,r,p),T[r].overloadTable[t-2]=y),Q([],c,G=>{var W=Ir(p,G,d,s,l,u);return T[r].overloadTable===void 0?(W.argCount=t-2,T[r]=W):T[r].overloadTable[t-2]=W,[]}),[]})},Rr=(e,r,t)=>(e instanceof Object||v(`${t} with invalid "this": ${e}`),e instanceof r.registeredClass.constructor||v(`${t} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||v(`cannot call emscripten binding method ${t} on deleted object`),Re(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)),qt=(e,r,t,n,i,s,l,o,u,c)=>{r=I(r),i=z(n,i),Q([],[e],d=>{d=d[0];var p=`${d.name}.${r}`,y={get(){_e(`Cannot access ${p} due to unbound types`,[t,l])},enumerable:!0,configurable:!0};return u?y.set=()=>_e(`Cannot access ${p} due to unbound types`,[t,l]):y.set=T=>v(p+" is a read-only property"),Object.defineProperty(d.registeredClass.instancePrototype,r,y),Q([],u?[t,l]:[t],T=>{var P=T[0],G={get(){var Y=Rr(this,d,p+" getter");return P.fromWireType(i(s,Y))},enumerable:!0};if(u){u=z(o,u);var W=T[1];G.set=function(Y){var be=Rr(this,d,p+" setter"),F=[];u(c,be,W.toWireType(F,Y)),Sr(F)}}return Object.defineProperty(d.registeredClass.instancePrototype,r,G),[]}),[]})},Ye=[],O=[],Kt=e=>{e>9&&--O[e+1]===0&&(f(O[e]!==void 0,"Decref for unallocated handle."),O[e]=void 0,Ye.push(e))},Zt=()=>O.length/2-5-Ye.length,Xt=()=>{O.push(0,1,void 0,1,null,1,!0,1,!1,1),f(O.length===5*2),a.count_emval_handles=Zt},Oe={toValue:e=>(e||v("Cannot use deleted val. handle = "+e),f(e===2||O[e]!==void 0&&e%2===0,`invalid handle: ${e}`),O[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let r=Ye.pop()||O.length;return O[r]=e,O[r+1]=1,r}}}},Qt={name:"emscripten::val",fromWireType:e=>{var r=Oe.toValue(e);return Kt(e),r},toWireType:(e,r)=>Oe.toHandle(r),argPackAdvance:V,readValueFromPointer:ke,destructorFunction:null},kr=e=>x(e,Qt),ie=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},en=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(nr[t>>2])};case 8:return function(t){return this.fromWireType(ir[t>>3])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},rn=(e,r,t)=>{r=I(r),x(e,{name:r,fromWireType:n=>n,toWireType:(n,i)=>{if(typeof i!="number"&&typeof i!="boolean")throw new TypeError(`Cannot convert ${ie(i)} to ${this.name}`);return i},argPackAdvance:V,readValueFromPointer:en(r,t),destructorFunction:null})},tn=(e,r,t)=>{switch(r){case 1:return t?n=>q[n]:n=>E[n];case 2:return t?n=>ce[n>>1]:n=>Pe[n>>1];case 4:return t?n=>de[n>>2]:n=>g[n>>2];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}},nn=(e,r,t,n,i)=>{r=I(r),i===-1&&(i=4294967295);var s=d=>d;if(n===0){var l=32-8*t;s=d=>d<<l>>>l}var o=r.includes("unsigned"),u=(d,p)=>{if(typeof d!="number"&&typeof d!="boolean")throw new TypeError(`Cannot convert "${ie(d)}" to ${p}`);if(d<n||d>i)throw new TypeError(`Passing a number "${ie(d)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${n}, ${i}]!`)},c;o?c=function(d,p){return u(p,this.name),p>>>0}:c=function(d,p){return u(p,this.name),p},x(e,{name:r,fromWireType:s,toWireType:c,argPackAdvance:V,readValueFromPointer:tn(r,t,n!==0),destructorFunction:null})},an=(e,r,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[r];function s(l){var o=g[l>>2],u=g[l+4>>2];return new i(q.buffer,u,o)}t=I(t),x(e,{name:t,fromWireType:s,argPackAdvance:V,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},on=(e,r)=>{kr(e)},sn=(e,r,t,n)=>{if(f(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(n>0))return 0;for(var i=t,s=t+n-1,l=0;l<e.length;++l){var o=e.charCodeAt(l);if(o>=55296&&o<=57343){var u=e.charCodeAt(++l);o=65536+((o&1023)<<10)|u&1023}if(o<=127){if(t>=s)break;r[t++]=o}else if(o<=2047){if(t+1>=s)break;r[t++]=192|o>>6,r[t++]=128|o&63}else if(o<=65535){if(t+2>=s)break;r[t++]=224|o>>12,r[t++]=128|o>>6&63,r[t++]=128|o&63}else{if(t+3>=s)break;o>1114111&&L("Invalid Unicode code point "+re(o)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),r[t++]=240|o>>18,r[t++]=128|o>>12&63,r[t++]=128|o>>6&63,r[t++]=128|o&63}}return r[t]=0,t-i},ln=(e,r,t)=>(f(typeof t=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),sn(e,E,r,t)),un=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},cn=(e,r)=>{r=I(r);var t=r==="std::string";x(e,{name:r,fromWireType(n){var i=g[n>>2],s=n+4,l;if(t)for(var o=s,u=0;u<=i;++u){var c=s+u;if(u==i||E[c]==0){var d=c-o,p=Ce(o,d);l===void 0?l=p:(l+="\0",l+=p),o=c+1}}else{for(var y=new Array(i),u=0;u<i;++u)y[u]=String.fromCharCode(E[s+u]);l=y.join("")}return B(n),l},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var s,l=typeof i=="string";l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||v("Cannot pass non-string to std::string"),t&&l?s=un(i):s=i.length;var o=Lr(4+s+1),u=o+4;if(g[o>>2]=s,t&&l)ln(i,u,s+1);else if(l)for(var c=0;c<s;++c){var d=i.charCodeAt(c);d>255&&(B(u),v("String has UTF-16 code units that do not fit in 8 bits")),E[u+c]=d}else for(var c=0;c<s;++c)E[u+c]=i[c];return n!==null&&n.push(B,o),o},argPackAdvance:V,readValueFromPointer:ke,destructorFunction(n){B(n)}})},Mr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,dn=(e,r)=>{f(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var t=e,n=t>>1,i=n+r/2;!(n>=i)&&Pe[n];)++n;if(t=n<<1,t-e>32&&Mr)return Mr.decode(E.subarray(e,t));for(var s="",l=0;!(l>=r/2);++l){var o=ce[e+l*2>>1];if(o==0)break;s+=String.fromCharCode(o)}return s},fn=(e,r,t)=>{if(f(r%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),f(typeof t=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),t??=2147483647,t<2)return 0;t-=2;for(var n=r,i=t<e.length*2?t/2:e.length,s=0;s<i;++s){var l=e.charCodeAt(s);ce[r>>1]=l,r+=2}return ce[r>>1]=0,r-n},pn=e=>e.length*2,vn=(e,r)=>{f(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var t=0,n="";!(t>=r/4);){var i=de[e+t*4>>2];if(i==0)break;if(++t,i>=65536){var s=i-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(i)}return n},hn=(e,r,t)=>{if(f(r%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),f(typeof t=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),t??=2147483647,t<4)return 0;for(var n=r,i=n+t-4,s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l>=55296&&l<=57343){var o=e.charCodeAt(++s);l=65536+((l&1023)<<10)|o&1023}if(de[r>>2]=l,r+=4,r+4>i)break}return de[r>>2]=0,r-n},gn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},mn=(e,r,t)=>{t=I(t);var n,i,s,l;r===2?(n=dn,i=fn,l=pn,s=o=>Pe[o>>1]):r===4&&(n=vn,i=hn,l=gn,s=o=>g[o>>2]),x(e,{name:t,fromWireType:o=>{for(var u=g[o>>2],c,d=o+4,p=0;p<=u;++p){var y=o+4+p*r;if(p==u||s(y)==0){var T=y-d,P=n(d,T);c===void 0?c=P:(c+="\0",c+=P),d=y+r}}return B(o),c},toWireType:(o,u)=>{typeof u!="string"&&v(`Cannot pass non-string to C++ string type ${t}`);var c=l(u),d=Lr(4+c+r);return g[d>>2]=c/r,i(u,d+4,c+r),o!==null&&o.push(B,d),d},argPackAdvance:V,readValueFromPointer:ke,destructorFunction(o){B(o)}})},yn=(e,r)=>{r=I(r),x(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},_n=(e,r,t)=>E.copyWithin(e,r,r+t),bn=(e,r)=>{var t=X[e];return t===void 0&&v(`${r} has unknown type ${$r(e)}`),t},wn=(e,r)=>{e=bn(e,"_emval_take_value");var t=e.readValueFromPointer(r);return Oe.toHandle(t)},Tn=()=>2147483648,En=e=>{var r=le.buffer,t=(e-r.byteLength+65535)/65536;try{return le.grow(t),ar(),1}catch(n){b(`growMemory: Attempted to grow heap from ${r.byteLength} bytes to ${e} bytes, but got error: ${n}`)}},Pn=e=>{var r=E.length;e>>>=0,f(e>r);var t=Tn();if(e>t)return b(`Cannot enlarge memory, requested ${e} bytes, but the limit is ${t} bytes!`),!1;for(var n=(u,c)=>u+(c-u%c)%c,i=1;i<=4;i*=2){var s=r*(1+.2/i);s=Math.min(s,e+100663296);var l=Math.min(t,n(Math.max(e,s),65536)),o=En(l);if(o)return!0}return b(`Failed to grow the heap from ${r} bytes to ${l} bytes, not enough memory!`),!1},Or=0,Ur=()=>ut||Or>0,Cn=e=>{xe=e,Ur()||(a.onExit?.(e),ue=!0),De(e,new lt(e))},$n=(e,r)=>{if(xe=e,Bn(),Ur()&&!r){var t=`program exited (with status: ${e}), but keepRuntimeAlive() is set (counter=${Or}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;S(t),b(t)}Cn(e)},Fn=$n,Sn=e=>{C("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},An=(e,r)=>(f(e==e>>>0||e==(e|0)),f(r===(r|0)),r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN);function In(e,r,t,n,i){var s=An(r,t);return 70}var Je=[null,[],[]],qe=(e,r)=>{var t=Je[e];f(t),r===0||r===10?((e===1?Ee:b)(gr(t,0)),t.length=0):t.push(r)},Rn=()=>{Un(0),Je[1].length&&qe(1,10),Je[2].length&&qe(2,10)},kn=(e,r,t,n)=>{for(var i=0,s=0;s<t;s++){var l=g[r>>2],o=g[r+4>>2];r+=8;for(var u=0;u<o;u++)qe(e,E[l+u]);i+=o}return g[n>>2]=i,0};mt(),ne=a.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},yr=a.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},St(),Ct(),Lt(),Cr=a.UnboundTypeError=Ht(Error,"UnboundTypeError"),Xt();function Mn(){ot("fetchSettings")}var Dr={__assert_fail:ct,__cxa_throw:vt,_abort_js:ht,_embind_register_bigint:gt,_embind_register_bool:_t,_embind_register_class:Vt,_embind_register_class_constructor:Gt,_embind_register_class_function:Jt,_embind_register_class_property:qt,_embind_register_emval:kr,_embind_register_float:rn,_embind_register_integer:nn,_embind_register_memory_view:an,_embind_register_optional:on,_embind_register_std_string:cn,_embind_register_std_wstring:mn,_embind_register_void:yn,_emscripten_memcpy_js:_n,_emval_take_value:wn,emscripten_resize_heap:Pn,exit:Fn,fd_close:Sn,fd_seek:In,fd_write:kn},$=at(),Jn=j("__wasm_call_ctors",0),On=j("__getTypeName",1),Un=j("fflush",1),B=j("free",1),Lr=j("malloc",1),qn=j("strerror",1),xr=()=>(xr=$.emscripten_stack_init)(),Dn=()=>(Dn=$.emscripten_stack_get_free)(),Ln=()=>(Ln=$.emscripten_stack_get_base)(),Ke=()=>(Ke=$.emscripten_stack_get_end)(),xn=e=>(xn=$._emscripten_stack_restore)(e),Wn=e=>(Wn=$._emscripten_stack_alloc)(e),Nn=()=>(Nn=$.emscripten_stack_get_current)(),jn=j("__cxa_is_pointer_type",1),Kn=a.dynCall_jiji=j("dynCall_jiji",5),Hn=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];Hn.forEach(st);var Vn=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","getWasmTableEntry","keepRuntimeAlive","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];Vn.forEach(vr);var Ue;fe=function e(){Ue||Wr(),Ue||(fe=e)};function zn(){xr(),Br()}function Wr(){if(K>0||(zn(),Gr(),K>0))return;function e(){Ue||(Ue=!0,a.calledRun=!0,!ue&&(Yr(),U(a),a.onRuntimeInitialized?.(),f(!a._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Jr()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e(),We()}function Bn(){var e=Ee,r=b,t=!1;Ee=b=n=>{t=!0};try{Rn()}catch{}Ee=e,b=r,t&&(L("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),L("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();Wr(),N=w;for(let e of Object.keys(a))e in h||Object.defineProperty(h,e,{configurable:!0,get(){C(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return N}})(),Vr=Yn;var Xe=class we{voroRaw;container;get xMin(){return this.container.xMin}set xMin(h){this.container.xMin=h}get xMax(){return this.container.xMax}set xMax(h){this.container.xMax=h}get yMin(){return this.container.yMin}set yMin(h){this.container.yMin=h}get yMax(){return this.container.yMax}set yMax(h){this.container.yMax=h}get zMin(){return this.container.zMin}set zMin(h){this.container.zMin=h}get zMax(){return this.container.zMax}set zMax(h){this.container.zMax=h}get nX(){return this.container.nX}set nX(h){this.container.nX=h}get nY(){return this.container.nY}set nY(h){this.container.nY=h}get nZ(){return this.container.nZ}set nZ(h){this.container.nZ=h}constructor(h,N,a,U,S,w,m,R,A,D){this.voroRaw=h,this.container=new h.Container(N||-10,a||10,U||-10,S||10,w||-10,m||10,R||1,A||1,D||1)}static async create(h,N,a,U,S,w,m,R,A){let D=await Vr();return new we(D,h,N,a,U,S,w,m,R,A)}computeCells(h,N=!1){if(h.length===0)return[];let a=new this.voroRaw.VectorFloat;typeof h[0]=="number"?h.forEach(w=>a.push_back(w)):h.forEach(w=>{a.push_back(w[0]),a.push_back(w[1]),a.push_back(w[2])});let U=this.container.computeCells(a,N),S=[];for(let w=0;w<U.size();++w){let m=U.get(w),R=new Array(m.vertices.size());for(let _=0;_<m.vertices.size();++_)R[_]=m.vertices.get(_);let A=new Array(m.faces.size());for(let _=0;_<m.faces.size();++_){let ae=new Array(m.faces.get(_).size());for(let J=0;J<m.faces.get(_).size();++J)ae[J]=m.faces.get(_).get(J);A[_]=ae}let D=new Array(m.neighbors.size());for(let _=0;_<m.neighbors.size();++_)D[_]=m.neighbors.get(_);S.push({particleID:m.particleID,x:m.x,y:m.y,z:m.z,nFaces:m.nFaces,vertices:R,faces:A,neighbors:D}),m.delete()}return a.delete(),U.delete(),S.sort((w,m)=>w.particleID<m.particleID?-1:1)}};export{Xe as Voro3D};
//# sourceMappingURL=index.js.map
