var Nn=(()=>{var Te=import.meta.url;return async function(h={}){var a=h,A,I;a.ready=new Promise((e,r)=>{A=e,I=r}),["_main","_memory","___indirect_function_table","__embind_initialize_bindings","_fflush","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(a.ready,e)||Object.defineProperty(a.ready,e,{get:()=>F("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>F("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var j=Object.assign({},a),T=[],_="./this.program",D=(e,r)=>{throw r},W=typeof window=="object",b=typeof importScripts=="function",J=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",q=!W&&!J&&!b;if(a.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var R="";function Gr(e){return a.locateFile?a.locateFile(e,R):R+e}var Ee,se,te;if(J){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var Ze=process.versions.node,le=Ze.split(".").slice(0,3);if(le=le[0]*1e4+le[1]*100+le[2].split("-")[0]*1,le<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+Ze+")");let{createRequire:e}=await import("module");var Ce=e(import.meta.url),Qe=Ce("fs"),De=Ce("path");b?R=De.dirname(R)+"/":R=Ce("url").fileURLToPath(new URL("./",import.meta.url)),Ee=(r,t)=>(r=he(r)?new URL(r):De.normalize(r),Qe.readFileSync(r,t?void 0:"utf8")),te=r=>{var t=Ee(r,!0);return t.buffer||(t=new Uint8Array(t)),f(t.buffer),t},se=(r,t,n,i=!0)=>{r=he(r)?new URL(r):De.normalize(r),Qe.readFile(r,i?void 0:"utf8",(o,l)=>{o?n(o):t(i?l.buffer:l)})},!a.thisProgram&&process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),T=process.argv.slice(2),D=(r,t)=>{throw process.exitCode=r,t},a.inspect=()=>"[Emscripten Module object]"}else if(q){if(typeof process=="object"&&typeof Ce=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(Ee=read),te=e=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(e));let r=read(e,"binary");return f(typeof r=="object"),r},se=(e,r,t)=>{setTimeout(()=>r(te(e)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=e=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=e=>typeof e=="function"?e():F()),typeof scriptArgs<"u"?T=scriptArgs:typeof arguments<"u"&&(T=arguments),typeof quit=="function"&&(D=(e,r)=>{throw setTimeout(()=>{if(!(r instanceof fr)){let t=r;r&&typeof r=="object"&&r.stack&&(t=[r,r.stack]),w(`exiting due to exception: ${t}`)}quit(e)}),r}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(W||b){if(b?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),Te&&(R=Te),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},b&&(te=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),se=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)}}else throw new Error("environment detection error");var Pe=a.print||console.log.bind(console),w=a.printErr||console.error.bind(console);Object.assign(a,j),j=null,$n(),a.arguments&&(T=a.arguments),z("arguments","arguments_"),a.thisProgram&&(_=a.thisProgram),z("thisProgram","thisProgram"),a.quit&&(D=a.quit),z("quit","quit_"),f(typeof a.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof a.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),f(typeof a.read>"u","Module.read option was removed (modify read_ in JS)"),f(typeof a.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),f(typeof a.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),f(typeof a.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),f(typeof a.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),z("asm","wasmExports"),z("read","read_"),z("readAsync","readAsync"),z("readBinary","readBinary"),z("setWindowTitle","setWindowTitle"),f(!q,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var ue;a.wasmBinary&&(ue=a.wasmBinary),z("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&F("no native wasm support detected");var ce,de=!1,Ue;function f(e,r){e||F("Assertion failed"+(r?": "+r:""))}var K,P,fe,Se,X,m,er,rr;function tr(){var e=ce.buffer;a.HEAP8=K=new Int8Array(e),a.HEAP16=fe=new Int16Array(e),a.HEAPU8=P=new Uint8Array(e),a.HEAPU16=Se=new Uint16Array(e),a.HEAP32=X=new Int32Array(e),a.HEAPU32=m=new Uint32Array(e),a.HEAPF32=er=new Float32Array(e),a.HEAPF64=rr=new Float64Array(e)}f(!a.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),f(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),f(!a.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),f(!a.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Br(){var e=Ke();f((e&3)==0),e==0&&(e+=4),m[e>>2]=34821223,m[e+4>>2]=2310721022,m[0]=1668509029}function xe(){if(!de){var e=Ke();e==0&&(e+=4);var r=m[e>>2],t=m[e+4>>2];(r!=34821223||t!=2310721022)&&F(`Stack overflow! Stack cookie has been overwritten at ${ne(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ne(t)} ${ne(r)}`),m[0]!=1668509029&&F("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var e=new Int16Array(1),r=new Int8Array(e.buffer);if(e[0]=25459,r[0]!==115||r[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var nr=[],ir=[],ar=[],We=!1;function Yr(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Kr(a.preRun.shift());Ne(nr)}function Jr(){f(!We),We=!0,xe(),Ne(ir)}function qr(){if(xe(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Zr(a.postRun.shift());Ne(ar)}function Kr(e){nr.unshift(e)}function Xr(e){ir.unshift(e)}function Zr(e){ar.unshift(e)}f(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Z=0,Q=null,pe=null,ve={};function Qr(e){Z++,a.monitorRunDependencies&&a.monitorRunDependencies(Z),e?(f(!ve[e]),ve[e]=1,Q===null&&typeof setInterval<"u"&&(Q=setInterval(()=>{if(de){clearInterval(Q),Q=null;return}var r=!1;for(var t in ve)r||(r=!0,w("still waiting on run dependencies:")),w(`dependency: ${t}`);r&&w("(end of list)")},1e4))):w("warning: run dependency added without ID")}function et(e){if(Z--,a.monitorRunDependencies&&a.monitorRunDependencies(Z),e?(f(ve[e]),delete ve[e]):w("warning: run dependency removed without ID"),Z==0&&(Q!==null&&(clearInterval(Q),Q=null),pe)){var r=pe;pe=null,r()}}function F(e){a.onAbort&&a.onAbort(e),e="Aborted("+e+")",w(e),de=!0,Ue=1;var r=new WebAssembly.RuntimeError(e);throw I(r),r}var U={error(){F("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){U.error()},createDataFile(){U.error()},createPreloadedFile(){U.error()},createLazyFile(){U.error()},open(){U.error()},mkdev(){U.error()},registerDevice(){U.error()},analyzePath(){U.error()},ErrnoError(){U.error()}};a.FS_createDataFile=U.createDataFile,a.FS_createPreloadedFile=U.createPreloadedFile;var rt="data:application/octet-stream;base64,",or=e=>e.startsWith(rt),he=e=>e.startsWith("file://");function k(e){return function(){f(We,`native function \`${e}\` called before runtime initialization`);var r=x[e];return f(r,`exported native function \`${e}\` not found`),r.apply(null,arguments)}}var H;a.locateFile?(H="voro_raw.wasm",or(H)||(H=Gr(H))):H=new URL("voro_raw.wasm",import.meta.url).href;function sr(e){if(e==H&&ue)return new Uint8Array(ue);if(te)return te(e);throw"both async and sync fetching of the wasm failed"}function tt(e){if(!ue&&(W||b)){if(typeof fetch=="function"&&!he(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>sr(e));if(se)return new Promise((r,t)=>{se(e,n=>r(new Uint8Array(n)),t)})}return Promise.resolve().then(()=>sr(e))}function lr(e,r,t){return tt(e).then(n=>WebAssembly.instantiate(n,r)).then(n=>n).then(t,n=>{w(`failed to asynchronously prepare wasm: ${n}`),he(H)&&w(`warning: Loading from a file URI (${H}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),F(n)})}function nt(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!or(r)&&!he(r)&&!J&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{var o=WebAssembly.instantiateStreaming(i,t);return o.then(n,function(l){return w(`wasm streaming compile failed: ${l}`),w("falling back to ArrayBuffer instantiation"),lr(r,t,n)})}):lr(r,t,n)}function it(){var e={env:Ur,wasi_snapshot_preview1:Ur};function r(i,o){return x=i.exports,ce=x.memory,f(ce,"memory not found in wasm exports"),tr(),Be=x.__indirect_function_table,f(Be,"table not found in wasm exports"),Xr(x.__wasm_call_ctors),et("wasm-instantiate"),x}Qr("wasm-instantiate");var t=a;function n(i){f(a===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,r(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,r)}catch(i){w(`Module.instantiateWasm callback failed with error: ${i}`),I(i)}return nt(ue,H,e,n).catch(I),{}}function z(e,r,t=!0){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){let n=t?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";F(`\`Module.${e}\` has been replaced by \`${r}\``+n)}})}function at(e){Object.getOwnPropertyDescriptor(a,e)&&F(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function ur(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function cr(e,r){typeof globalThis<"u"&&Object.defineProperty(globalThis,e,{configurable:!0,get(){N("`"+e+"` is not longer defined by emscripten. "+r)}})}cr("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),cr("asm","Please use wasmExports instead");function ot(e){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){var r="`"+e+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",t=e;t.startsWith("_")||(t="$"+e),r+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+t+"')",ur(e)&&(r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),N(r)}}),dr(e)}function dr(e){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){var r="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";ur(e)&&(r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),F(r)}})}function fr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ne=e=>{for(;e.length>0;)e.shift()(a)},st=a.noExitRuntime||!0,ne=e=>(f(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),N=e=>{N.shown||(N.shown={}),N.shown[e]||(N.shown[e]=1,J&&(e="warning: "+e),w(e))};function lt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(r){m[this.ptr+4>>2]=r},this.get_type=function(){return m[this.ptr+4>>2]},this.set_destructor=function(r){m[this.ptr+8>>2]=r},this.get_destructor=function(){return m[this.ptr+8>>2]},this.set_caught=function(r){r=r?1:0,K[this.ptr+12>>0]=r},this.get_caught=function(){return K[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,K[this.ptr+13>>0]=r},this.get_rethrown=function(){return K[this.ptr+13>>0]!=0},this.init=function(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)},this.set_adjusted_ptr=function(r){m[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return m[this.ptr+16>>2]},this.get_exception_ptr=function(){var r=On(this.get_type());if(r)return m[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var ut=0,ct=0,dt=(e,r,t)=>{var n=new lt(e);n.init(r,t),ut=e,ct++,f(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},ft=(e,r,t,n,i)=>{},pt=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);pr=e},pr,M=e=>{for(var r="",t=e;P[t];)r+=pr[P[t++]];return r},ie={},ee={},Fe={},ae,p=e=>{throw new ae(e)},vr,$e=e=>{throw new vr(e)},re=(e,r,t)=>{e.forEach(function(s){Fe[s]=r});function n(s){var c=t(s);c.length!==e.length&&$e("Mismatched type converter count");for(var u=0;u<e.length;++u)V(e[u],c[u])}var i=new Array(r.length),o=[],l=0;r.forEach((s,c)=>{ee.hasOwnProperty(s)?i[c]=ee[s]:(o.push(s),ie.hasOwnProperty(s)||(ie[s]=[]),ie[s].push(()=>{i[c]=ee[s],++l,l===o.length&&n(i)}))}),o.length===0&&n(i)};function vt(e,r,t={}){var n=r.name;if(e||p(`type "${n}" must have a positive integer typeid pointer`),ee.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;p(`Cannot register type '${n}' twice`)}if(ee[e]=r,delete Fe[e],ie.hasOwnProperty(e)){var i=ie[e];delete ie[e],i.forEach(o=>o())}}function V(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return vt(e,r,t)}var G=8,ht=(e,r,t,n)=>{r=M(r),V(e,{name:r,fromWireType:function(i){return!!i},toWireType:function(i,o){return o?t:n},argPackAdvance:G,readValueFromPointer:function(i){return this.fromWireType(P[i])},destructorFunction:null})},gt=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),je=e=>{function r(t){return t.$$.ptrType.registeredClass.name}p(r(e)+" instance already deleted")},He=!1,hr=e=>{},mt=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},gr=e=>{e.count.value-=1;var r=e.count.value===0;r&&mt(e)},mr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=mr(e,r,t.baseClass);return n===null?null:t.downcast(n)},yr={},yt=()=>Object.keys(ye).length,_t=()=>{var e=[];for(var r in ye)ye.hasOwnProperty(r)&&e.push(ye[r]);return e},ge=[],ze=()=>{for(;ge.length;){var e=ge.pop();e.$$.deleteScheduled=!1,e.delete()}},me,bt=e=>{me=e,ge.length&&me&&me(ze)},wt=()=>{a.getInheritedInstanceCount=yt,a.getLiveInheritedInstances=_t,a.flushPendingDeletes=ze,a.setDelayFunction=bt},ye={},Tt=(e,r)=>{for(r===void 0&&p("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},Et=(e,r)=>(r=Tt(e,r),ye[r]),Ae=(e,r)=>{(!r.ptrType||!r.ptr)&&$e("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&$e("Both smartPtrType and smartPtr must be specified"),r.count={value:1},_e(Object.create(e,{$$:{value:r}}))};function _r(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Et(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Ae(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Ae(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o=this.registeredClass.getActualType(r),l=yr[o];if(!l)return i.call(this);var s;this.isConst?s=l.constPointerType:s=l.pointerType;var c=mr(r,this.registeredClass,s.registeredClass);return c===null?i.call(this):this.isSmartPointer?Ae(s.registeredClass.instancePrototype,{ptrType:s,ptr:c,smartPtrType:this,smartPtr:e}):Ae(s.registeredClass.instancePrototype,{ptrType:s,ptr:c})}var _e=e=>typeof FinalizationRegistry>"u"?(_e=r=>r,e):(He=new FinalizationRegistry(r=>{console.warn(r.leakWarning.stack.replace(/^Error: /,"")),gr(r.$$)}),_e=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var i={$$:t},o=t.ptrType.registeredClass;i.leakWarning=new Error(`Embind found a leaked C++ instance ${o.name} <${ne(t.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(i.leakWarning,_r),He.register(r,i,r)}return r},hr=r=>He.unregister(r),_e(e)),Ct=()=>{Object.assign(Ie.prototype,{isAliasOf(e){if(!(this instanceof Ie)||!(e instanceof Ie))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i},clone(){if(this.$$.ptr||je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=_e(Object.create(Object.getPrototypeOf(this),{$$:{value:gt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&p("Object already scheduled for deletion"),hr(this),gr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&p("Object already scheduled for deletion"),ge.push(this),ge.length===1&&me&&me(ze),this.$$.deleteScheduled=!0,this}})};function Ie(){}var Pt=48,St=57,Ve=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Pt&&r<=St?`_${e}`:e};function Ge(e,r){return e=Ve(e),{[e]:function(){return r.apply(this,arguments)}}[e]}var br=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||p(`Function '${t}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},Ft=(e,r,t)=>{a.hasOwnProperty(e)?((t===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[t]!==void 0)&&p(`Cannot register public name '${e}' twice`),br(a,e,e),a.hasOwnProperty(t)&&p(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),a[e].overloadTable[t]=r):(a[e]=r,t!==void 0&&(a[e].numArguments=t))};function $t(e,r,t,n,i,o,l,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=l,this.downcast=s,this.pureVirtualFunctions=[]}var Re=(e,r,t)=>{for(;r!==t;)r.upcast||p(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function At(e,r){if(r===null)return this.isReference&&p(`null is not a valid ${this.name}`),0;r.$$||p(`Cannot pass "${oe(r)}" as a ${this.name}`),r.$$.ptr||p(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Re(r.$$.ptr,t,this.registeredClass);return n}function It(e,r){var t;if(r===null)return this.isReference&&p(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;r.$$||p(`Cannot pass "${oe(r)}" as a ${this.name}`),r.$$.ptr||p(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&p(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Re(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&p("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:p(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,ke.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:p("Unsupporting sharing policy")}return t}function Rt(e,r){if(r===null)return this.isReference&&p(`null is not a valid ${this.name}`),0;r.$$||p(`Cannot pass "${oe(r)}" as a ${this.name}`),r.$$.ptr||p(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&p(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Re(r.$$.ptr,t,this.registeredClass);return n}function wr(e){return this.fromWireType(m[e>>2])}var Mt=()=>{Object.assign(Me.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:G,readValueFromPointer:wr,deleteObject(e){e!==null&&e.delete()},fromWireType:_r})};function Me(e,r,t,n,i,o,l,s,c,u,d){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=l,this.rawGetPointee=s,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=d,!i&&r.baseClass===void 0?n?(this.toWireType=At,this.destructorFunction=null):(this.toWireType=Rt,this.destructorFunction=null):this.toWireType=It}var kt=(e,r,t)=>{a.hasOwnProperty(e)||$e("Replacing nonexistant public symbol"),a[e].overloadTable!==void 0&&t!==void 0?a[e].overloadTable[t]=r:(a[e]=r,a[e].argCount=t)},Ot=(e,r,t)=>{f("dynCall_"+e in a,`bad function pointer type - dynCall function not found for sig '${e}'`),t&&t.length?f(t.length===e.substring(1).replace(/j/g,"--").length):f(e.length==1);var n=a["dynCall_"+e];return t&&t.length?n.apply(null,[r].concat(t)):n.call(null,r)},Be,Ye=e=>Be.get(e),Lt=(e,r,t)=>{if(e.includes("j"))return Ot(e,r,t);f(Ye(r),`missing table entry in dynCall: ${r}`);var n=Ye(r).apply(null,t);return n},Dt=(e,r)=>{f(e.includes("j")||e.includes("p"),"getDynCaller should only be called with i64 sigs");var t=[];return function(){return t.length=0,Object.assign(t,arguments),Lt(e,r,t)}},B=(e,r)=>{e=M(e);function t(){return e.includes("j")?Dt(e,r):Ye(r)}var n=t();return typeof n!="function"&&p(`unknown function pointer with signature ${e}: ${r}`),n},Ut=(e,r)=>{var t=Ge(r,function(n){this.name=r,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Tr,Er=e=>{var r=An(e),t=M(r);return Y(r),t},be=(e,r)=>{var t=[],n={};function i(o){if(!n[o]&&!ee[o]){if(Fe[o]){Fe[o].forEach(i);return}t.push(o),n[o]=!0}}throw r.forEach(i),new Tr(`${e}: `+t.map(Er).join([", "]))},xt=(e,r,t,n,i,o,l,s,c,u,d,v,y)=>{d=M(d),o=B(i,o),s&&(s=B(l,s)),u&&(u=B(c,u)),y=B(v,y);var g=Ve(d);Ft(g,function(){be(`Cannot construct ${d} due to unbound types`,[n])}),re([e,r,t],n?[n]:[],function(E){E=E[0];var S,C;n?(S=E.registeredClass,C=S.instancePrototype):C=Ie.prototype;var L=Ge(g,function(){if(Object.getPrototypeOf(this)!==we)throw new ae("Use 'new' to construct "+d);if($.constructor_body===void 0)throw new ae(d+" has no accessible constructor");var zr=$.constructor_body[arguments.length];if(zr===void 0)throw new ae(`Tried to invoke ctor of ${d} with invalid number of parameters (${arguments.length}) - expected (${Object.keys($.constructor_body).toString()}) parameters instead!`);return zr.apply(this,arguments)}),we=Object.create(C,{constructor:{value:L}});L.prototype=we;var $=new $t(d,L,we,y,S,o,s,u);$.baseClass&&($.baseClass.__derivedClasses===void 0&&($.baseClass.__derivedClasses=[]),$.baseClass.__derivedClasses.push($));var Wn=new Me(d,$,!0,!1,!1),jr=new Me(d+"*",$,!1,!1,!1),Hr=new Me(d+" const*",$,!1,!0,!1);return yr[e]={pointerType:jr,constPointerType:Hr},kt(g,L),[Wn,jr,Hr]})},Cr=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(m[r+n*4>>2]);return t},Pr=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Wt(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=Ge(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function Sr(e,r,t,n,i,o){var l=r.length;l<2&&p("argTypes array size mismatch! Must at least get return value and 'this' types!"),f(!o,"Async bindings are only supported with JSPI.");for(var s=r[1]!==null&&t!==null,c=!1,u=1;u<r.length;++u)if(r[u]!==null&&r[u].destructorFunction===void 0){c=!0;break}for(var d=r[0].name!=="void",v="",y="",u=0;u<l-2;++u)v+=(u!==0?", ":"")+"arg"+u,y+=(u!==0?", ":"")+"arg"+u+"Wired";var g=`
        return function ${Ve(e)}(${v}) {
        if (arguments.length !== ${l-2}) {
          throwBindingError('function ${e} called with ' + arguments.length + ' arguments, expected ${l-2}');
        }`;c&&(g+=`var destructors = [];
`);var E=c?"destructors":"null",S=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],C=[p,n,i,Pr,r[0],r[1]];s&&(g+="var thisWired = classParam.toWireType("+E+`, this);
`);for(var u=0;u<l-2;++u)g+="var arg"+u+"Wired = argType"+u+".toWireType("+E+", arg"+u+"); // "+r[u+2].name+`
`,S.push("argType"+u),C.push(r[u+2]);if(s&&(y="thisWired"+(y.length>0?", ":"")+y),g+=(d||o?"var rv = ":"")+"invoker(fn"+(y.length>0?", ":"")+y+`);
`,c)g+=`runDestructors(destructors);
`;else for(var u=s?1:2;u<r.length;++u){var L=u===1?"thisWired":"arg"+(u-2)+"Wired";r[u].destructorFunction!==null&&(g+=L+"_dtor("+L+"); // "+r[u].name+`
`,S.push(L+"_dtor"),C.push(r[u].destructorFunction))}return d&&(g+=`var ret = retType.fromWireType(rv);
return ret;
`),g+=`}
`,S.push(g),Wt(Function,S).apply(null,C)}var Nt=(e,r,t,n,i,o)=>{f(r>0);var l=Cr(r,t);i=B(n,i),re([],[e],function(s){s=s[0];var c=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[r-1]!==void 0)throw new ae(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[r-1]=()=>{be(`Cannot construct ${s.name} due to unbound types`,l)},re([],l,u=>(u.splice(1,0,null),s.registeredClass.constructor_body[r-1]=Sr(c,u,null,i,o),[])),[]})},jt=e=>{e=e.trim();let r=e.indexOf("(");return r!==-1?(f(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,r)):e},Ht=(e,r,t,n,i,o,l,s,c)=>{var u=Cr(t,n);r=M(r),r=jt(r),o=B(i,o),re([],[e],function(d){d=d[0];var v=`${d.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&d.registeredClass.pureVirtualFunctions.push(r);function y(){be(`Cannot call ${v} due to unbound types`,u)}var g=d.registeredClass.instancePrototype,E=g[r];return E===void 0||E.overloadTable===void 0&&E.className!==d.name&&E.argCount===t-2?(y.argCount=t-2,y.className=d.name,g[r]=y):(br(g,r,v),g[r].overloadTable[t-2]=y),re([],u,function(S){var C=Sr(v,S,d,o,l,c);return g[r].overloadTable===void 0?(C.argCount=t-2,g[r]=C):g[r].overloadTable[t-2]=C,[]}),[]})},Fr=(e,r,t)=>(e instanceof Object||p(`${t} with invalid "this": ${e}`),e instanceof r.registeredClass.constructor||p(`${t} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||p(`cannot call emscripten binding method ${t} on deleted object`),Re(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)),zt=(e,r,t,n,i,o,l,s,c,u)=>{r=M(r),i=B(n,i),re([],[e],function(d){d=d[0];var v=`${d.name}.${r}`,y={get(){be(`Cannot access ${v} due to unbound types`,[t,l])},enumerable:!0,configurable:!0};return c?y.set=()=>be(`Cannot access ${v} due to unbound types`,[t,l]):y.set=g=>p(v+" is a read-only property"),Object.defineProperty(d.registeredClass.instancePrototype,r,y),re([],c?[t,l]:[t],function(g){var E=g[0],S={get(){var L=Fr(this,d,v+" getter");return E.fromWireType(i(o,L))},enumerable:!0};if(c){c=B(s,c);var C=g[1];S.set=function(L){var we=Fr(this,d,v+" setter"),$=[];c(u,we,C.toWireType($,L)),Pr($)}}return Object.defineProperty(d.registeredClass.instancePrototype,r,S),[]}),[]})};function Vt(){Object.assign($r.prototype,{get(e){return f(this.allocated[e]!==void 0,`invalid handle: ${e}`),this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var r=this.freelist.pop()||this.allocated.length;return this.allocated[r]=e,r},free(e){f(this.allocated[e]!==void 0),this.allocated[e]=void 0,this.freelist.push(e)}})}function $r(){this.allocated=[void 0],this.freelist=[]}var O=new $r,Ar=e=>{e>=O.reserved&&--O.get(e).refcount===0&&O.free(e)},Gt=()=>{for(var e=0,r=O.reserved;r<O.allocated.length;++r)O.allocated[r]!==void 0&&++e;return e},Bt=()=>{O.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),O.reserved=O.allocated.length,a.count_emval_handles=Gt},ke={toValue:e=>(e||p("Cannot use deleted val. handle = "+e),O.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return O.allocate({refcount:1,value:e})}}};function Ir(e){return this.fromWireType(X[e>>2])}var Yt=(e,r)=>{r=M(r),V(e,{name:r,fromWireType:t=>{var n=ke.toValue(t);return Ar(t),n},toWireType:(t,n)=>ke.toHandle(n),argPackAdvance:G,readValueFromPointer:Ir,destructorFunction:null})},oe=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Jt=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(er[t>>2])};case 8:return function(t){return this.fromWireType(rr[t>>3])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},qt=(e,r,t)=>{r=M(r),V(e,{name:r,fromWireType:n=>n,toWireType:(n,i)=>{if(typeof i!="number"&&typeof i!="boolean")throw new TypeError(`Cannot convert ${oe(i)} to ${this.name}`);return i},argPackAdvance:G,readValueFromPointer:Jt(r,t),destructorFunction:null})},Kt=(e,r,t)=>{switch(r){case 1:return t?n=>K[n>>0]:n=>P[n>>0];case 2:return t?n=>fe[n>>1]:n=>Se[n>>1];case 4:return t?n=>X[n>>2]:n=>m[n>>2];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}},Xt=(e,r,t,n,i)=>{r=M(r),i===-1&&(i=4294967295);var o=d=>d;if(n===0){var l=32-8*t;o=d=>d<<l>>>l}var s=r.includes("unsigned"),c=(d,v)=>{if(typeof d!="number"&&typeof d!="boolean")throw new TypeError(`Cannot convert "${oe(d)}" to ${v}`);if(d<n||d>i)throw new TypeError(`Passing a number "${oe(d)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${n}, ${i}]!`)},u;s?u=function(d,v){return c(v,this.name),v>>>0}:u=function(d,v){return c(v,this.name),v},V(e,{name:r,fromWireType:o,toWireType:u,argPackAdvance:G,readValueFromPointer:Kt(r,t,n!==0),destructorFunction:null})},Zt=(e,r,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[r];function o(l){var s=m[l>>2],c=m[l+4>>2];return new i(K.buffer,c,s)}t=M(t),V(e,{name:t,fromWireType:o,argPackAdvance:G,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},Qt=(e,r,t,n)=>{if(f(typeof e=="string"),!(n>0))return 0;for(var i=t,o=t+n-1,l=0;l<e.length;++l){var s=e.charCodeAt(l);if(s>=55296&&s<=57343){var c=e.charCodeAt(++l);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(t>=o)break;r[t++]=s}else if(s<=2047){if(t+1>=o)break;r[t++]=192|s>>6,r[t++]=128|s&63}else if(s<=65535){if(t+2>=o)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|s&63}else{if(t+3>=o)break;s>1114111&&N("Invalid Unicode code point "+ne(s)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|s&63}}return r[t]=0,t-i},en=(e,r,t)=>(f(typeof t=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Qt(e,P,r,t)),rn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Rr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Mr=(e,r,t)=>{for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.buffer&&Rr)return Rr.decode(e.subarray(r,i));for(var o="";r<i;){var l=e[r++];if(!(l&128)){o+=String.fromCharCode(l);continue}var s=e[r++]&63;if((l&224)==192){o+=String.fromCharCode((l&31)<<6|s);continue}var c=e[r++]&63;if((l&240)==224?l=(l&15)<<12|s<<6|c:((l&248)!=240&&N("Invalid UTF-8 leading byte "+ne(l)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),l=(l&7)<<18|s<<12|c<<6|e[r++]&63),l<65536)o+=String.fromCharCode(l);else{var u=l-65536;o+=String.fromCharCode(55296|u>>10,56320|u&1023)}}return o},kr=(e,r)=>(f(typeof e=="number"),e?Mr(P,e,r):""),tn=(e,r)=>{r=M(r);var t=r==="std::string";V(e,{name:r,fromWireType(n){var i=m[n>>2],o=n+4,l;if(t)for(var s=o,c=0;c<=i;++c){var u=o+c;if(c==i||P[u]==0){var d=u-s,v=kr(s,d);l===void 0?l=v:(l+="\0",l+=v),s=u+1}}else{for(var y=new Array(i),c=0;c<i;++c)y[c]=String.fromCharCode(P[o+c]);l=y.join("")}return Y(n),l},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var o,l=typeof i=="string";l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||p("Cannot pass non-string to std::string"),t&&l?o=rn(i):o=i.length;var s=xr(4+o+1),c=s+4;if(m[s>>2]=o,t&&l)en(i,c,o+1);else if(l)for(var u=0;u<o;++u){var d=i.charCodeAt(u);d>255&&(Y(c),p("String has UTF-16 code units that do not fit in 8 bits")),P[c+u]=d}else for(var u=0;u<o;++u)P[c+u]=i[u];return n!==null&&n.push(Y,s),s},argPackAdvance:G,readValueFromPointer:wr,destructorFunction(n){Y(n)}})},Or=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,nn=(e,r)=>{f(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var t=e,n=t>>1,i=n+r/2;!(n>=i)&&Se[n];)++n;if(t=n<<1,t-e>32&&Or)return Or.decode(P.subarray(e,t));for(var o="",l=0;!(l>=r/2);++l){var s=fe[e+l*2>>1];if(s==0)break;o+=String.fromCharCode(s)}return o},an=(e,r,t)=>{if(f(r%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),f(typeof t=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var n=r,i=t<e.length*2?t/2:e.length,o=0;o<i;++o){var l=e.charCodeAt(o);fe[r>>1]=l,r+=2}return fe[r>>1]=0,r-n},on=e=>e.length*2,sn=(e,r)=>{f(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var t=0,n="";!(t>=r/4);){var i=X[e+t*4>>2];if(i==0)break;if(++t,i>=65536){var o=i-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(i)}return n},ln=(e,r,t)=>{if(f(r%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),f(typeof t=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),t===void 0&&(t=2147483647),t<4)return 0;for(var n=r,i=n+t-4,o=0;o<e.length;++o){var l=e.charCodeAt(o);if(l>=55296&&l<=57343){var s=e.charCodeAt(++o);l=65536+((l&1023)<<10)|s&1023}if(X[r>>2]=l,r+=4,r+4>i)break}return X[r>>2]=0,r-n},un=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},cn=(e,r,t)=>{t=M(t);var n,i,o,l,s;r===2?(n=nn,i=an,l=on,o=()=>Se,s=1):r===4&&(n=sn,i=ln,l=un,o=()=>m,s=2),V(e,{name:t,fromWireType:c=>{for(var u=m[c>>2],d=o(),v,y=c+4,g=0;g<=u;++g){var E=c+4+g*r;if(g==u||d[E>>s]==0){var S=E-y,C=n(y,S);v===void 0?v=C:(v+="\0",v+=C),y=E+r}}return Y(c),v},toWireType:(c,u)=>{typeof u!="string"&&p(`Cannot pass non-string to C++ string type ${t}`);var d=l(u),v=xr(4+d+r);return m[v>>2]=d>>s,i(u,v+4,d+r),c!==null&&c.push(Y,v),v},argPackAdvance:G,readValueFromPointer:Ir,destructorFunction(c){Y(c)}})},dn=(e,r)=>{r=M(r),V(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},fn=e=>{e>4&&(O.get(e).refcount+=1)},pn=(e,r)=>{var t=ee[e];return t===void 0&&p(r+" has unknown type "+Er(e)),t},vn=(e,r)=>{e=pn(e,"_emval_take_value");var t=e.readValueFromPointer(r);return ke.toHandle(t)},hn=()=>{F("native code called abort()")},gn=(e,r,t)=>P.copyWithin(e,r,r+t),mn=()=>2147483648,yn=e=>{var r=ce.buffer,t=(e-r.byteLength+65535)/65536;try{return ce.grow(t),tr(),1}catch(n){w(`growMemory: Attempted to grow heap from ${r.byteLength} bytes to ${e} bytes, but got error: ${n}`)}},_n=e=>{var r=P.length;e>>>=0,f(e>r);var t=mn();if(e>t)return w(`Cannot enlarge memory, requested ${e} bytes, but the limit is ${t} bytes!`),!1;for(var n=(c,u)=>c+(u-c%u)%u,i=1;i<=4;i*=2){var o=r*(1+.2/i);o=Math.min(o,e+100663296);var l=Math.min(t,n(Math.max(e,o),65536)),s=yn(l);if(s)return!0}return w(`Failed to grow the heap from ${r} bytes to ${l} bytes, not enough memory!`),!1},Lr=0,Dr=()=>st||Lr>0,Oe={varargs:void 0,get(){f(Oe.varargs!=null);var e=X[+Oe.varargs>>2];return Oe.varargs+=4,e},getp(){return Oe.get()},getStr(e){var r=kr(e);return r}},bn=e=>{Ue=e,Dr()||(a.onExit&&a.onExit(e),de=!0),D(e,new fr(e))},wn=(e,r)=>{if(Ue=e,xn(),Dr()&&!r){var t=`program exited (with status: ${e}), but keepRuntimeAlive() is set (counter=${Lr}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;I(t),w(t)}bn(e)},Tn=wn,En=e=>{F("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Cn=(e,r)=>(f(e==e>>>0||e==(e|0)),f(r===(r|0)),r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN);function Pn(e,r,t,n,i){var o=Cn(r,t);return 70}var Je=[null,[],[]],qe=(e,r)=>{var t=Je[e];f(t),r===0||r===10?((e===1?Pe:w)(Mr(t,0)),t.length=0):t.push(r)},Sn=()=>{In(0),Je[1].length&&qe(1,10),Je[2].length&&qe(2,10)},Fn=(e,r,t,n)=>{for(var i=0,o=0;o<t;o++){var l=m[r>>2],s=m[r+4>>2];r+=8;for(var c=0;c<s;c++)qe(e,P[l+c]);i+=s}return m[n>>2]=i,0};pt(),ae=a.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},vr=a.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Ct(),wt(),Mt(),Tr=a.UnboundTypeError=Ut(Error,"UnboundTypeError"),Vt(),Bt();function $n(){at("fetchSettings")}var Ur={__cxa_throw:dt,_embind_register_bigint:ft,_embind_register_bool:ht,_embind_register_class:xt,_embind_register_class_constructor:Nt,_embind_register_class_function:Ht,_embind_register_class_property:zt,_embind_register_emval:Yt,_embind_register_float:qt,_embind_register_integer:Xt,_embind_register_memory_view:Zt,_embind_register_std_string:tn,_embind_register_std_wstring:cn,_embind_register_void:dn,_emval_decref:Ar,_emval_incref:fn,_emval_take_value:vn,abort:hn,emscripten_memcpy_js:gn,emscripten_resize_heap:_n,exit:Tn,fd_close:En,fd_seek:Pn,fd_write:Fn},x=it(),jn=k("__wasm_call_ctors"),An=k("__getTypeName"),Hn=a.__embind_initialize_bindings=k("_embind_initialize_bindings"),zn=k("__errno_location"),In=a._fflush=k("fflush"),Y=k("free"),xr=k("malloc"),Wr=()=>(Wr=x.emscripten_stack_init)(),Rn=()=>(Rn=x.emscripten_stack_get_free)(),Mn=()=>(Mn=x.emscripten_stack_get_base)(),Ke=()=>(Ke=x.emscripten_stack_get_end)(),Vn=k("stackSave"),Gn=k("stackRestore"),Bn=k("stackAlloc"),kn=()=>(kn=x.emscripten_stack_get_current)(),On=k("__cxa_is_pointer_type"),Yn=a.dynCall_jiji=k("dynCall_jiji"),Ln=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getFunctionArgsName","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_addMethodCaller"];Ln.forEach(ot);var Dn=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","dynCallLegacy","getDynCaller","dynCall","getWasmTableEntry","keepRuntimeAlive","handleAllocatorInit","HandleAllocator","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","UnboundTypeError","PureVirtualError","GenericWireTypeSize","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers"];Dn.forEach(dr);var Le;pe=function e(){Le||Nr(),Le||(pe=e)};function Un(){Wr(),Br()}function Nr(){if(Z>0||(Un(),Yr(),Z>0))return;function e(){Le||(Le=!0,a.calledRun=!0,!de&&(Jr(),A(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),f(!a._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),qr()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e(),xe()}function xn(){var e=Pe,r=w,t=!1;Pe=w=n=>{t=!0};try{Sn()}catch{}Pe=e,w=r,t&&(N("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),N("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Nr(),h.ready}})(),Vr=Nn;var Xe=class Te{voroRaw;container;get xMin(){return this.container.xMin}set xMin(h){this.container.xMin=h}get xMax(){return this.container.xMax}set xMax(h){this.container.xMax=h}get yMin(){return this.container.yMin}set yMin(h){this.container.yMin=h}get yMax(){return this.container.yMax}set yMax(h){this.container.yMax=h}get zMin(){return this.container.zMin}set zMin(h){this.container.zMin=h}get zMax(){return this.container.zMax}set zMax(h){this.container.zMax=h}get nX(){return this.container.nX}set nX(h){this.container.nX=h}get nY(){return this.container.nY}set nY(h){this.container.nY=h}get nZ(){return this.container.nZ}set nZ(h){this.container.nZ=h}constructor(h,a,A,I,j,T,_,D,W,b){this.voroRaw=h,this.container=new h.Container(a||-10,A||10,I||-10,j||10,T||-10,_||10,D||1,W||1,b||1)}static async create(h,a,A,I,j,T,_,D,W){let b=await Vr();return new Te(b,h,a,A,I,j,T,_,D,W)}computeCells(h,a=!1){if(h.length===0)return[];let A=new this.voroRaw.VectorFloat;typeof h[0]=="number"?h.forEach(T=>A.push_back(T)):h.forEach(T=>{A.push_back(T[0]),A.push_back(T[1]),A.push_back(T[2])});let I=this.container.computeCells(A,a),j=[];for(let T=0;T<I.size();++T){let _=I.get(T),D=new Array(_.vertices.size());for(let b=0;b<_.vertices.size();++b)D[b]=_.vertices.get(b);let W=new Array(_.faces.size());for(let b=0;b<_.faces.size();++b){let J=new Array(_.faces.get(b).size());for(let q=0;q<_.faces.get(b).size();++q)J[q]=_.faces.get(b).get(q);W[b]=J}j.push({particleID:_.particleID,x:_.x,y:_.y,z:_.z,nFaces:_.nFaces,vertices:D,faces:W}),_.delete()}return A.delete(),I.delete(),j.sort((T,_)=>T.particleID<_.particleID?-1:1)}};export{Xe as Voro3D};
//# sourceMappingURL=index.js.map
